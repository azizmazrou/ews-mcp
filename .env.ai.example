# EWS MCP Server - AI Features Configuration
# Copy this file to .env and configure your settings

# ===========================================
# Exchange Web Services Settings
# ===========================================
EWS_SERVER_URL=https://mail.company.com/EWS/Exchange.asmx
EWS_EMAIL=user@company.com
EWS_AUTODISCOVER=false

# Authentication (choose one)
EWS_AUTH_TYPE=basic
EWS_USERNAME=user@company.com
EWS_PASSWORD=your-password

# ===========================================
# AI Intelligence Layer Settings
# ===========================================

# Enable AI features
ENABLE_AI=true

# AI Provider (openai, anthropic, local)
AI_PROVIDER=openai

# OpenAI Configuration
AI_API_KEY=sk-your-openai-api-key-here
AI_MODEL=gpt-4o-mini
AI_EMBEDDING_MODEL=text-embedding-3-small

# OR Anthropic Configuration
# AI_PROVIDER=anthropic
# AI_API_KEY=sk-ant-your-anthropic-api-key
# AI_MODEL=claude-3-5-sonnet-20241022

# OR Local Model Configuration (e.g., Ollama, LM Studio)
# AI_PROVIDER=local
# AI_BASE_URL=http://localhost:11434/v1
# AI_MODEL=llama3
# AI_EMBEDDING_MODEL=nomic-embed-text

# AI Generation Settings
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.7

# Enable/Disable Specific AI Features
ENABLE_SEMANTIC_SEARCH=true
ENABLE_EMAIL_CLASSIFICATION=true
ENABLE_SMART_REPLIES=true
ENABLE_EMAIL_SUMMARIZATION=true

# ===========================================
# Server Configuration
# ===========================================

MCP_SERVER_NAME=ews-mcp-server

# Transport mode: stdio (for Claude Desktop) or sse (for HTTP/REST API)
MCP_TRANSPORT=stdio
MCP_HOST=0.0.0.0      # Only used when MCP_TRANSPORT=sse
MCP_PORT=8000         # Only used when MCP_TRANSPORT=sse

LOG_LEVEL=INFO

# ===========================================
# OpenAPI/REST API Configuration (Optional)
# Only needed when MCP_TRANSPORT=sse or using with Open WebUI
# ===========================================

# External URL for API access (e.g., https://ews-api.company.com)
# Leave commented for default: http://localhost:8000
# API_BASE_URL=https://ews-api.example.com

# Internal Docker network URL (e.g., http://ews-mcp:8000)
# Leave commented for default: http://ews-mcp:8000
# API_BASE_URL_INTERNAL=http://ews-mcp:8000

# Customize API metadata (optional)
# API_TITLE=Exchange Web Services (EWS) MCP API
# API_DESCRIPTION=REST API for Exchange operations via Model Context Protocol
# API_VERSION=3.0.0

# ===========================================
# Timezone Configuration (CRITICAL)
# ===========================================

# Use IANA timezone names: UTC, America/New_York, Europe/London, Asia/Riyadh
# Do NOT use UTC offsets like UTC+03:00 - they will cause errors
TIMEZONE=UTC

# Feature Toggles
ENABLE_EMAIL=true
ENABLE_CALENDAR=true
ENABLE_CONTACTS=true
ENABLE_TASKS=true
ENABLE_FOLDERS=true
ENABLE_ATTACHMENTS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=25
